<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TikSepet | Sepet</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico" />
  </head>
  <body>
    <!-- YÃ¼kleniyor gÃ¶stergesi -->
    <div id="loader">YÃ¼kleniyor...</div>

    <!-- Ãœst navigasyon -->
    <header>
      <nav class="navbar">
        <a href="index.html" class="logo">
          <img
            src="assets/images/logos/logo_light.png"
            alt="TikSepet"
            id="site-logo"
          />
        </a>
        <ul class="nav-links" id="navLinks">
          <li><a href="index.html">Anasayfa</a></li>
          <li><a href="products.html">ÃœrÃ¼nler</a></li>
          <li><a href="cart.html">Sepet</a></li>
          <li><a href="profile.html">Profil</a></li>
          <li><a href="admin.html">Admin</a></li>
        </ul>
        <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“</button>
        <div class="nav-toggle" onclick="toggleMenu()">
          <span></span><span></span><span></span>
        </div>
      </nav>
    </header>

    <!-- Ana iÃ§erik alanÄ± -->
    <main>
      <div class="cart-container">
        <h1 class="cart-title">Sepetim</h1>
        <div id="cart-items">
          <!-- Sepet Ã¶ÄŸesi Ã¶rneÄŸi -->
          <div class="cart-item" data-price="29999">
            <img src="assets/images/products/product2.jpg" alt="KulaklÄ±k" />
            <div class="cart-item-info">
              <div class="cart-item-title">KulaklÄ±k</div>
              <div class="cart-item-price">â‚º29.999,00</div>
            </div>
            <div class="cart-item-quantity">
              <button class="qty-btn decrease">âˆ’</button>
              <span class="item-qty">1</span>
              <button class="qty-btn increase">+</button>
            </div>
            <button class="cart-item-remove">Sil</button>
          </div>
        </div>
        <div class="cart-total" id="cart-total">Toplam: â‚º29.999,00</div>
        <div class="cart-empty" id="cart-empty" style="display: none">
          Sepetiniz boÅŸ.
        </div>
      </div>
    </main>

    <!-- Sayfa altbilgisi -->
    <footer>
      <div class="footer-content">
        <img
          src="assets/images/logos/logo_light.png"
          alt="TikSepet Logo"
          id="footer-logo"
          class="footer-logo"
        />
        <p>&copy; 2025 TikSepet E-Ticaret Sitesi created by Hakan Onay</p>
      </div>
    </footer>

    <!-- JavaScript kodlarÄ± -->
    <script>
      // Footer logosunu gÃ¼ncelle
      function updateFooterLogo() {
        const footerLogo = document.getElementById("footer-logo");
        footerLogo.src = document.body.classList.contains("dark")
          ? "assets/images/logos/logo_dark.png"
          : "assets/images/logos/logo_light.png";
      }

      // Mobil menÃ¼yÃ¼ aÃ§/kapat
      function toggleMenu() {
        document.getElementById("navLinks").classList.toggle("active");
      }

      // Tema deÄŸiÅŸtirme fonksiyonu
      function toggleTheme() {
        document.body.classList.toggle("dark");
        const theme = document.body.classList.contains("dark")
          ? "dark"
          : "light";
        localStorage.setItem("theme", theme);
        updateFooterLogo();
        updateLogo(theme);
      }

      // Logoyu gÃ¼ncelle
      function updateLogo(theme) {
        const logo = document.getElementById("site-logo");
        logo.src =
          theme === "dark"
            ? "assets/images/logos/logo_dark.png"
            : "assets/images/logos/logo_light.png";
      }

      // Sayfa yÃ¼klendiÄŸinde temayÄ± uygula
      window.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "light";
        if (savedTheme === "dark") document.body.classList.add("dark");
        updateFooterLogo();
        updateLogo(savedTheme);
      });

      // YÃ¼kleme ekranÄ±nÄ± kapat
      window.addEventListener("load", () => {
        document.getElementById("loader").style.display = "none";
      });

      // Sepet iÅŸlemleri
      document.addEventListener("DOMContentLoaded", () => {
        const increaseBtns = document.querySelectorAll(".increase");
        const decreaseBtns = document.querySelectorAll(".decrease");

        // Miktar artÄ±rma butonlarÄ±
        increaseBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            const qtySpan = btn.previousElementSibling;
            qtySpan.textContent = parseInt(qtySpan.textContent) + 1;
            updateCartTotal();
          });
        });

        // Miktar azaltma butonlarÄ±
        decreaseBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            const qtySpan = btn.nextElementSibling;
            const count = parseInt(qtySpan.textContent);
            if (count > 1) {
              qtySpan.textContent = count - 1;
              updateCartTotal();
            }
          });
        });

        // Sepet toplamÄ±nÄ± gÃ¼ncelle
        function updateCartTotal() {
          const items = document.querySelectorAll(".cart-item");
          let total = 0;

          items.forEach((item) => {
            const price = parseFloat(item.dataset.price);
            const quantity = parseInt(
              item.querySelector(".item-qty").textContent
            );
            total += price * quantity;
          });

          const formattedTotal = total.toLocaleString("tr-TR", {
            style: "currency",
            currency: "TRY",
          });

          document.getElementById("cart-total").textContent =
            "Toplam: " + formattedTotal;
        }
      });
    </script>
  </body>
</html>
